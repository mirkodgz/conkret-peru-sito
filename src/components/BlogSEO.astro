---
const { title, description, pubDate, image, slug, tags } = Astro.props;

const url = `https://conkret.com/blog/${slug}/`;
const logo = "https://conkret.com/logo-red.png";
const formattedDate = pubDate.toISOString();

// JSON-LD Article Schema
const articleSchema = {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    headline: title,
    description: description,
    image: image,
    datePublished: formattedDate,
    author: {
        "@type": "Organization",
        name: "CONKRET",
        url: "https://conkret.com",
    },
    publisher: {
        "@type": "Organization",
        name: "CONKRET",
        logo: {
            "@type": "ImageObject",
            url: logo,
        },
    },
    mainEntityOfPage: {
        "@type": "WebPage",
        "@id": url,
    },
    keywords: tags.join(", "),
};

// JSON-LD Breadcrumb Schema
const breadcrumbSchema = {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    itemListElement: [
        {
            "@type": "ListItem",
            position: 1,
            name: "Inicio",
            item: "https://conkret.com",
        },
        {
            "@type": "ListItem",
            position: 2,
            name: "Blog",
            item: "https://conkret.com/blog/",
        },
        {
            "@type": "ListItem",
            position: 3,
            name: title,
            item: url,
        },
    ],
};
---

<script type="application/ld+json" set:html={JSON.stringify(articleSchema)} />
<script
    type="application/ld+json"
    set:html={JSON.stringify(breadcrumbSchema)}
/>
